@model freak_store.Models.Product

<div class="container mt-4">
    <div class="row">
        <!-- Imágenes de producto -->
        <div class="col-md-6">
            <div class="main-image">
                <img src="@Model.Img" alt="@Model.Name" class="img-fluid" style="width: 100%; object-fit: cover;">
            </div>
            <div class="image-gallery mt-3 d-flex">
                <!-- Aquí podrías añadir miniaturas de otras imágenes si el modelo soporta múltiples imágenes -->
                <img src="@Model.Img" class="img-thumbnail me-2" style="width: 20%;" />
                <img src="@Model.Img" class="img-thumbnail me-2" style="width: 20%;" />
                <img src="@Model.Img" class="img-thumbnail me-2" style="width: 20%;" />
            </div>
        </div>

        <!-- Detalles del producto -->
        <div class="col-md-6">
            <h2>@Model.Name</h2>
            <p class="text-muted">Código SKU: @Model.Sku</p>

            <!-- Precio y descuento -->
            <h4 class="text-danger">
                S/. @Model.Price
                @if (Model.Discount != null && Model.Discount.Percentage > 0)
                {
                    <span class="text-decoration-line-through text-muted ms-2">
                        S/. @(Model.Price / (1 - (Model.Discount.Percentage / 100.0M)))
                    </span>
                    <span class="badge bg-success ms-2">@Model.Discount.Percentage% OFF</span>
                }
            </h4>

            <!-- Estado de inventario -->
            <div class="mt-3">
                @if (Model.Inventory != null && Model.Inventory.Quantity > 0)
                {
                    <span class="badge bg-success">Disponible</span>
                    <p>Cantidad disponible: @Model.Inventory.Quantity</p>
                }
                else
                {
                    <span class="badge bg-danger">Agotado</span>
                }
            </div>

            <!-- Descripción del producto -->
            <p class="mt-4">@Model.Description</p>

            <!-- Opciones de cantidad -->
            <div class="d-flex align-items-center mt-4">
                <label for="quantity" class="me-2">Cantidad:</label>
                <input type="number" id="quantity" name="quantity" class="form-control" value="1" min="1" max="@Model.Inventory?.Quantity ?? 1" style="width: 80px;">
            </div>

            <!-- Botones de acción -->
            <div class="mt-4 d-flex gap-2">
                <button class="btn btn-danger w-100">Comprar</button>
                <button class="btn btn-primary w-100" @(Model.Inventory == null || Model.Inventory.Quantity == 0 ? "disabled" : "")>Agregar al carrito</button>
            </div>

            <!-- Información adicional -->
            <div class="mt-4">
                <h5>Envío y Seguridad</h5>
                <p class="text-muted">Envío a todo el Perú. Seguridad y privacidad garantizadas.</p>
            </div>
        </div>
    </div>
</div>
