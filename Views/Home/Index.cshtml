@model freak_store.ViewModels.ProductsViewModel

@{
    ViewData["Title"] = "Inicio";
}

<!-- Main Banner (carrusel) con ajuste para pantalla completa -->
<div id="mainBanner" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
        <div class="carousel-item active">
            <!-- Imagen del carrusel -->
            <img src="https://mmstoreperu.com/cdn/shop/files/Desktop_Especialistas_7c574cd4-ed59-41ad-b2b6-2485dda70321_800x.png?v=1723495946"
                class="d-block w-100" alt="Especialistas en periféricos para gamers">
        </div>
        <div class="carousel-item">
            <img src="https://mmstoreperu.com/cdn/shop/files/Desktop_Especialistas_7c574cd4-ed59-41ad-b2b6-2485dda70321_800x.png?v=1723495946"
                class="d-block w-100" alt="Placeholder">
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#mainBanner" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previous</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#mainBanner" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Next</span>
    </button>
</div>

<!-- Features Section (sección de características debajo del carrusel) -->
<div class="container my-5">
    <div class="row text-center">
        <div class="col-md-3">
            <!-- SVG Icono de Envío a todo el Perú -->
            <svg focusable="false" viewBox="0 0 24 24" role="presentation" width="50" height="50">
                <g stroke-width="1.5" fill="none" fill-rule="evenodd">
                    <path d="M6.5 3.25l12 6" stroke="#1fa9ff"></path>
                    <path stroke="#000000" d="M23 7l-10 5L1 6M13 12v11"></path>
                    <path stroke="#000000" stroke-linecap="square" d="M23 7v10l-10 6-12-6V6l10-5z"></path>
                </g>
            </svg>
            <h5>No lidias con envios</h5>
            <p>Todos nuestros productos son digitales</p>
        </div>
        <div class="col-md-3">
            <!-- SVG Icono de Soporte Técnico -->
            <svg focusable="false" viewBox="0 0 24 24" role="presentation" width="50" height="50">
                <g stroke-width="1.5" fill="none" fill-rule="evenodd" stroke-linecap="square">
                    <path
                        d="M10 17H4c-1.7 0-3 1.3-3 3v3h12v-3c0-1.7-1.3-3-3-3zM7 14c-1.7 0-3-1.3-3-3v-1c0-1.7 1.3-3 3-3s3 1.3 3 3v1c0 1.7-1.3 3-3 3z"
                        stroke="#000000"></path>
                    <path stroke="#1fa9ff" d="M13 1v10l4-3h6V1z"></path>
                </g>
            </svg>
            <h5>Soporte Técnico</h5>
            <p>Te ayudamos en lo que necesites</p>
        </div>
        <div class="col-md-3">
            <!-- SVG Icono del Showroom Exclusivo -->
            <svg focusable="false" viewBox="0 0 24 24" role="presentation" width="50" height="50">
                <g transform="translate(1 1)" fill="none" fill-rule="evenodd">
                    <path
                        d="M12.374 10.997C11.052 10.931 10 9.839 10 8.5 10 9.881 8.881 11 7.5 11S5 9.881 5 8.5C5 9.881 3.881 11 2.5 11S0 9.958 0 8l4-8h12l4 8M3 11v9h8"
                        stroke="#000000" stroke-width="1.5"></path>
                    <path d="M22 13c0 3.1-5 8.1-5 8.1s-5-5-5-8.1c0-3.2 2.6-5 5-5s5 1.8 5 5z" stroke="#1fa9ff"
                        stroke-width="1.5" stroke-linecap="square"></path>
                    <circle fill="#1fa9ff" fill-rule="nonzero" cx="17" cy="13" r="1"></circle>
                </g>
            </svg>
            <h5>Entrega postcompra</h5>
            <p>Entrega inmediata</p>
        </div>
        <div class="col-md-3">
            <!-- SVG Icono de Compras Seguras -->
            <svg focusable="false" viewBox="0 0 22 24" role="presentation" width="50" height="50">
                <g stroke-width="1.5" fill="none" fill-rule="evenodd">
                    <path d="M11 2v20M19.904 12H2.096" stroke="#1fa9ff"></path>
                    <path d="M11 2C8 4 4 5 1 5c0 7 3 14 10 17 7-3 10-10 10-17-3 0-7-1-10-3z" stroke="#000000"
                        stroke-linecap="square"></path>
                </g>
            </svg>
            <h5>Compras Seguras</h5>
            <p>Todas tus compras están protegidas</p>
        </div>
    </div>

    <!-- Sección de productos -->
    <div class="col-12 my-5">
        <h2 class="text-center mb-4">Nuestros Productos</h2>
        <div class="row">
            @foreach (var product in Model.Products)
            {
                <div class="col-12 col-md-3 mb-4">
                    <div class="card h-100">
                        <img src="@product.Img" class="card-img-top" alt="@product.Name" style="object-fit: cover;">
                        <div class="card-body">
                            <h6 class="card-title">@product.Name</h6>
                            <p class="card-text">S/. @product.Price</p>
                            <!-- Verificación de stock -->
                            @if (product.Inventory != null && product.Inventory.Quantity > 0)
                            {
                                <span class="badge bg-success">Disponible</span>
                                <p class="mt-2">Cantidad disponible: @product.Inventory.Quantity</p>
                            }
                            else
                            {
                                <span class="badge bg-danger">Agotado</span>
                            }
                        </div>
                        <div class="card-footer">
                            <button class="btn btn-primary w-100" @(product.Inventory == null || product.Inventory.Quantity
                            == 0 ? "disabled" : "")>
                                Añadir al carrito
                            </button>
                            <a href="#" class="btn btn-link text-center d-block mt-2">Vista rápida</a>
                        </div>
                    </div>
                </div>
            }
        </div>
    </div>


</div>
